@import '../../../core';

:root {
    --translate-z: 25rem;
    --cube-width: 50rem;
    --cube-height: 50rem;
}

.scene {
    width: var(--cube-width);
    height: var(--cube-height);
    margin: -15rem 0 -6rem 20%;
    perspective: 400rem;
    perspective-origin: 240% -100%;
    transform: scale(0.32);
    z-index: 10;

    @include minw($sm-tab) {
        margin: -16rem 45% 0 55%;
        transform: scale(0.55);
    }

    @include minw($lg-tab) {
        margin: -19rem 45% 0 55%;
        transform: scale(0.55);
    }

    @include minw($pc) {
        margin: -10rem auto 0;
        transform: scale(0.5);
    }

    @include minw($xl) {
        transform: none;
        margin: 0 auto 0 39%;
        transform: scale(0.9);
    }
}

.cube {
    width: var(--cube-width);
    height: var(--cube-height);
    position: relative;
    transform-style: preserve-3d;
    transform: translateZ(var(--translate-z));
    transition: transform 0.7s;

    &.show-front  { transform: translateZ(var(--translate-z)) rotateY(   0deg); }
    &.show-right  { transform: translateZ(var(--translate-z)) rotateY( -90deg); }
    &.show-back   { transform: translateZ(var(--translate-z)) rotateY(-180deg); }
    &.show-left   { transform: translateZ(var(--translate-z)) rotateY(  90deg); }
    &.show-top    { transform: translateZ(var(--translate-z)) rotateX( -90deg); }
    &.show-bottom { transform: translateZ(var(--translate-z)) rotateX(  90deg); }

    &__face {
        background-color: #1A232B;
        position: absolute;
        width: var(--cube-width);
        height: var(--cube-height);
        line-height: var(--cube-height);
        color: white;
        backface-visibility: hidden;
        overflow: hidden;
        padding: 2.4rem 2.2rem 0 2.3rem;
        user-select: none;

        &--1 { transform: rotateY(  0deg) translateZ(var(--translate-z)); } // front
        &--2 { transform: rotateY( 90deg) translateZ(var(--translate-z)); } // right
        &--3 { transform: rotateY(180deg) translateZ(var(--translate-z)); } // back
        &--4 { transform: rotateY(-90deg) translateZ(var(--translate-z)); } // left
        &--5 { transform: rotateX( 90deg) translateZ(var(--translate-z)); } // top
        &--6 { transform: rotateX(-90deg) translateZ(var(--translate-z)); } // bottom

        &__inner {
            height: 100%;
            display: flex;
            flex-direction: column;
        }

        &__text {
            font-size: 2.4rem;
            line-height: 2.9rem;
            font-family: $apercu-pro-bold;
            padding-top: 7rem;
            position: relative;

            &::before {
                content: '"';
                color: inherit;
                display: block;
                font-size: 10rem;
                line-height: 12.4rem;
                position: absolute;
                left: 0;
                top: 0;
                transform: skewX(18deg);
            }

            span {
                text-indent: 4rem;
                display: block;
            }
        }

        &__bottom {
            display: flex;
            justify-content: space-between;
            align-items: flex-end;
            width: 100%;
            margin-top: auto;
        }

        &__left,
        &__right {
            width: 50%;
        }

        &__left {
            padding-bottom: 0.7rem;

            span {
                display: flex;
                font-size: 2.4rem;
                line-height: 3.2rem;
                justify-content: space-between;

                &:nth-child(1) {
                    margin-bottom: 0.9rem;
                }

                &:nth-child(2) {
                    opacity: .8;
                }
            }
        }

        &__right {
            display: flex;
            justify-content: flex-end;
            padding-bottom: 5rem;
        }

        &__img {
            margin-left: auto;
            width: 12rem;
            height: 5.6rem;

            img,
            picture {
                @include img-fit(contain);
            }
        }
    }
}

.h-cube {
    &-section {
        background-color: #f7f7f7;
        padding-bottom: 9.6rem;
        position: relative;
        overflow: visible;

        @include minw($sm-tab) {
            padding-bottom: 6.1rem;
        }

        @include minw($lg-tab) {
            padding-bottom: 6.1rem;
        }

        @include minw($pc) {
            overflow: hidden;
            padding-bottom: 10.5rem;
        }

        @include minw($xl) {
            padding-bottom: 30rem;
            overflow: visible;
            --container-max-width: 152rem;
            --container-side-padding: 0;
            --container-side-margin: calc(50vw - 76rem);
        }
    }

    & {
        position: relative;
    }

    &__head {
        position: relative;
        padding-top: 9.6rem;

        @include minw($sm-tab) {
            padding-top: 4.2rem;
        }

        @include minw($lg-tab) {
            padding-top: 5.4rem;
        }

        @include minw($pc) {
            padding-top: 13.8rem;
        }

        @include minw($xl) {
            padding-top: 10rem;
        }

        &::before {
            @include pseudo();
            background-color: #D4E3E7;
            height: 100%;
            width: 80%;
            left: calc(var(--container-side-padding) * -1);
            top: 0;

            @include minw($sm-tab) {
                width: 65%;
            }

            @include minw($pc) {
                left: auto;
                right: 30%;
                width: 70vw;
            }

            @include minw($xl) {
                width: 96rem;
                height: 110rem;
                left: calc(var(--container-side-margin) * -1);
            }
        }
    }

    &__subtitle {
        position: relative;
        font-size: 1.6rem;
        line-height: 2.4rem;
        letter-spacing: 0.4em;
        color: #9A9C9D;
        padding-bottom: 0.7rem;
        font-family: $sentient-bold;

        @include minw($sm-tab) {
            padding-bottom: 1.9rem;
        }

        @include minw($pc) {
            font-size: 1.8rem;
            line-height: 2.4rem;
        }
    }

    &__title {
        position: relative;
        font-size: 4.8rem;
        line-height: 5.6rem;
        font-family: $boska-black;
        padding-bottom: 4.3rem;
        display: block;

        @include minw($sm-tab) {
            font-size: 5.6rem;
            line-height: 6.4rem;
            max-width: 58rem;
            padding-bottom: 12.7rem;
        }

        @include minw($lg-tab) {
            max-width: 53rem;
        }

        @include minw($pc) {
            padding-bottom: 14.6rem;
            max-width: 92rem;
            font-size: 8.4rem;
            line-height: 9.6rem;
        }

        @include minw($xl) {
            max-width: unset;
            width: 110%;
            font-size: 10rem;
            line-height: 13rem;
            padding-bottom: 8rem;
        }
    }

    &__holder {
        position: relative;
        display: flex;
        justify-content: center;

        // White bg block
        &::before {
            @include pseudo();
            background-color: var(--white);
            width: 100%;
            height: 32.7rem;
            box-shadow: .8rem .8rem 10rem rgba(0, 0, 0, 0.15);
            border-bottom-left-radius: 1.5rem;

            @include minw($sm-tab) {
                right: calc(var(--container-side-padding) * -1);
                border-bottom-left-radius: 3rem;
                width: 71%;
            }

            @include minw($lg-tab) {
                width: 76%;
            }

            @include minw($pc) {
                height: 40rem;
                right: auto;
                left: 39%;
                width: 70vw;
            }

            @include minw($xl) {
                width: 60rem;
                height: 60rem;
                left: 22%;
                top: 6rem;
                border-bottom-left-radius: 10rem;
                z-index: 7;
            }
        }

        // full hd grid
        &::after {
            @include pseudo();
            display: none;

            @include minw($xl) {
                display: block;
                background-image: url(../../../images/general/grid-pattern.png);
                left: 0;
                top: 12rem;
                height: 112rem;
                width: 100vw;
                z-index: 5;
                left: calc(var(--container-side-margin) * -1);
                opacity: 0.2;
                pointer-events: none;
            }
        }
    }

    .round-text-arrow-btn {
        z-index: 20;
        position: absolute;
        left: 50%;
        transform: translateX(-50%);
        bottom: -2.5rem;
        width: 7rem;
        height: 7rem;

        @include minw($sm-tab) {
            bottom: auto;
            left: auto;
            right: 3.5rem;
            top: 40rem;
            transform: none;
        }

        @include minw($lg-tab) {
            width: 15.4rem;
            height: 15.4rem;
            top: 27rem;
            right: 8rem;
        }

        @include minw($pc) {
            top: auto;
            bottom: 21rem;
            right: 13%;
        }

        @include minw($xl) {
            bottom: -12rem;
            width: 16rem;
            height: 16rem;
        }

        svg {
            &:nth-child(2) {
                transform: 
                    translate(-36%, -50%)
                    rotate(45deg)
                    scale(0.9);

                @include minw($lg-tab) {
                    width: 6.5rem;
                    height: 6.5rem;
                    stroke-width: 1px;
                    transform: 
                        translate(-36%, -50%)
                        rotate(42deg);
                }
            }
        }
    }

    &__figure {
        display: none;
        position: absolute;

        &--1 {
            display: block;
            width: 8.5rem;
            left: 2.1rem;
            bottom: -7rem;

            @include minw($sm-tab) {
                width: 11rem;
                right: 4rem;
                left: auto;
                bottom: -3rem;
            }

            @include minw($pc) {
                width: 16rem;
                bottom: -6rem;
                right: 17%;
            }

            @include minw($xl) {
                right: -14rem;
                bottom: -80rem;
                width: 17.2rem;
            }
        }

        &--2 {
            @include minw($sm-tab) {
                display: block;
                width: 9.7rem;
                animation-duration: 4s;
                top: 40%;
            }

            @include minw($pc) {
                width: 22.2rem;
                top: 45%;
                left: 11%;
            }

            @include minw($xl) {
                left: auto;
                right: -14rem;
                top: auto;
                bottom: 0;
            }
        }

        &--3,
        &--4 {
            width: 20rem;
            left: 0;

            @include minw($xl) {
                display: block;
            }
        }

        &--3 {
            height: 14rem;
            animation-duration: 3s;
            bottom: -25rem;
        }

        &--4 {
            top: 40%;
            height: 20rem;
        }

        img,
        picture {
            @include img-fit(contain);
            user-select: none;
        }
    }
}